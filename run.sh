#!/bin/bash
set -e

echo "
  ____  _      ____   _____ _  _______ _    _          _____ _   _ 
 |  _ \| |    / __ \ / ____| |/ / ____| |  | |   /\   |_   _| \ | |
 | |_) | |   | |  | | |    | ' / |    | |__| |  /  \    | | |  \| |
 |  _ <| |   | |  | | |    |  <| |    |  __  | / /\ \   | | |     |
 | |_) | |___| |__| | |____| . \ |____| |  | |/ ____ \ _| |_| |\  |
 |____/|______\____/ \_____|_|\_\_____|_|  |_/_/    \_\_____|_| \_|
 | |                              (_)         | |                  
 | |__  ___  ___   _ __  _ __ ___  _  ___  ___| |_                 
 | '_ \/ __|/ _ \ | '_ \| '__/ _ \| |/ _ \/ __| __|                
 | | | \__ \  __/ | |_) | | | (_) | |  __/ (__| |_                 
 |_| |_|___/\___| | .__/|_|  \___/| |\___|\___|\__|                
                  | |            _/ |                              
                  |_|           |__/                  
"



echo "Docker compose up..."
docker compose up -d 

CONTAINER_NAME=$(docker-compose ps -q blockchain | xargs docker inspect --format '{{.Name}}' | sed 's/^\/\(.*\)$/\1/')

echo "Connecting to ${CONTAINER_NAME} container..."
docker attach $CONTAINER_NAME



